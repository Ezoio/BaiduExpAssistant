<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>jQuery Autocompleter Plugin</title>
    <link href="ms-appx-web:///Assets/code/jquery.autocompleter.css" rel="stylesheet" type="text/css" />
    <!--<link href="ms-appx-web:///Assets/code/test01.css" type="text/css" rel="stylesheet"/>-->

    <script src="ms-appx-web:///Assets/code/jquery-latest.js"></script>
    <script src="ms-appx-web:///Assets/code/jquery.autocompleter.js"></script>
    <script>
        window.onload = function () {
            window.external.notify("ok");
            var data = [
                { value: '第一', 'label': 'one' },
                { value: '第二', 'label': 'two' },
                { value: '第三', 'label': 'three' },
                { value: '第四', 'label': 'four' },
                { value: '哦，就是那样', 'label': 'ok,thats it' }
            ];

            $('#nope').autocompleter({
                limit: 5,
                template:
                    '{{ label }}<span>({{ label }})</span>',
                empty: true,
                highlightMatches: true,
                source: data,
                focusOpen: false
            });

            $('#textinput').keydown(function (e) {
                var nope = $('#nope');
                if (e.key == 'Backspace') nope[0].value = "";
                else nope[0].value += e.key;

                var mye = {
                    type: 'keydown',
                    preventDefault: function () { },
                    stopPropagation: function () { },
                    target: nope[0]

                };
                nope.trigger(mye);

                nope.autocompleter('close');
                nope.autocompleter('open');
            });
            window.external.notify("ok");
        };

    </script>
</head>
<body>


<h1>jQuery Autocompleter</h1>
<input id="textinput" placeholder="请输入" maxlength="60" autocomplete="off" type="text" />

<input id="nope" placeholder="请输入" maxlength="60" autocomplete="on" type="text" />

<a href="ms-appx-web:///Assets/code/test02.html">打开test02.html</a>

</body>
</html>